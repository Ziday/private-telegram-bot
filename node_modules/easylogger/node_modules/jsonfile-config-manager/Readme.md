# jsonfile-config-manager

Easy config managment by json files for your developments

## How Install

npm install jsonfile-config-manager

## How it works

You can add many config files and watch them.
Each file and content is checked and loaded in a config object.

If someone change a config file it can be reloaded automatically, running proccesses if it is required.

Config object contains a branch with each config full path filename (config.files[filename])
Also, for each config filename, a new branch is added, without extension, in config object (config[filename])

## Public Methods and Objects

**‘config’** : Configuration object

**‘setLogger(logger)’** : Set a (winston) logger. By default, output console shown all messages

**‘setAllowedExtensions([Array])’** : If you set an array of extensions only this files 'll can be loaded'

**‘addFiles(Array, watch, [callback])’** : It check and load content of array of config files, watch it, and run a callback function when are loaded

**‘addFile(filename, watch, [callback])’** : Check and load content of a file, watch it, and run a callback function when is loaded

**‘removeFile(filename)’** : remove content of a file from config

**'updateBranchFile(branch)''** : update config file of branch of config object

**'emitter'** : emitter emits 2 different events: 'loaded', when one config file is loaded, and 'allFilesLoaded', when an array of files is loaded

## Quick Example 1

```javascript
var cm = require('jsonfile-config-manager')
var file1 = '/home/you/file1.json'
var file2 = '/home/you/file2.json'
cm.setAllowedExtensions(['json'])

cm.emitter.on('allFilesLoaded', function(){ console.dir(cm.config) })
cm.addFile([file1,file2], true)
```

## Contributors

- [GuillermoPena](http://github.com/GuillermoPena)
